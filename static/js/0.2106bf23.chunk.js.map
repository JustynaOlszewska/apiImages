{"version":3,"sources":["styles/styleComponents/StyledFormPhoto.js","components/molecules/Form.js"],"names":["StyledForm","styled","div","StyledContainerInput","StyledInput","input","StyledIcon","i","StyledButton","button","props","theme","bg","StyledNavLink","NavLink","col","Alert","lazy","Form","match","useRouteMatch","myRef","useRef","useState","animation","setAnimation","alertContext","useContext","AlertContext","fetchContext","FetchContext","validationContext","ValidationContext","paginateContext","PaginateContext","setAlert","photosFilterDuplicate","setLoadingImages","searchPhotos","value","setText","currentPage","useEffect","length","disabledButton","bool","current","disabled","setTimeout","showAlerts","name","list","type","onChange","e","valueInput","target","id","map","element","index","title","className","ref","onClick","to","path"],"mappings":"80CAKO,IAAMA,EAAaC,UAAOC,IAAV,KAaVC,EAAuBF,UAAOC,IAAV,KASpBE,EAAcH,UAAOI,MAAV,KAUXC,EAAaL,UAAOM,EAAV,KASVC,EAAeP,UAAOQ,OAAV,KAKH,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,MAG9BC,EAAgBZ,kBAAOa,IAAPb,CAAH,KAEf,SAAAS,GAAK,OAAIA,EAAMC,MAAMI,O,gCChD1BC,EAAQC,gBAAK,kBAAM,iCAyEVC,UAvEF,SAAC,GAAe,IAAD,EAAZP,EAAY,EAAZA,MACNQ,EAAQC,cACRC,EAAQC,mBAFU,EAGUC,oBAAS,GAHnB,mBAGjBC,EAHiB,KAGNC,EAHM,KAIlBC,EAAeC,qBAAWC,KAC1BC,EAAeF,qBAAWG,KAC1BC,EAAoBJ,qBAAWK,KAC/BC,EAAkBN,qBAAWO,KAE3BC,GAAaT,GAAgB,IAA7BS,SATgB,EAU0CN,GAAgB,GAA1EO,EAVgB,EAUhBA,sBAAuBC,EAVP,EAUOA,iBAAkBC,EAVzB,EAUyBA,aAVzB,EAWGP,GAAqB,GAAxCQ,EAXgB,EAWhBA,MAAOC,EAXS,EAWTA,QACPC,GAAgBR,GAAmB,IAAnCQ,YAERC,qBAAU,YACG,OAALH,QAAK,IAALA,OAAA,EAAAA,EAAOI,SAAU,GACjBL,EAAaC,EAAOE,KAGzB,CAACF,EAAOE,IAEX,IAWMG,EAAiB,SAACC,GACpBxB,EAAMyB,QAAQC,SAAWF,EACzBG,YAAW,WACP3B,EAAMyB,UAAYzB,EAAMyB,QAAQC,UAAW,GAC3CtB,GAAa,KACd,MAGDwB,EAAa,WACG,IAAjBV,EAAMI,QAAiBR,EAAS,yBAA0B,SAC3DI,GAASJ,EAAS,uBAAwB,UAS9C,OACI,qCACI,cAACnC,EAAD,UACI,eAACG,EAAD,WACI,cAACC,EAAD,CAAa8C,KAAK,OAAOC,KAAK,SAASC,KAAK,OACxCC,SAXC,SAAAC,GACjB,IAAMC,EAAaD,EAAEE,OAAOjB,MAC5BF,GAAiB,GACjBG,EAAQe,IAQgChB,MAAOA,IACnC,0BAAUkB,GAAG,SAAb,SACKrB,EAAsBsB,KAAI,SAACC,EAASC,GAAV,OAAoB,iCAA+BD,EAAQE,OAA1BF,EAAUC,QAE1E,cAACtD,EAAD,CAAYwD,UAAU,kBACtB,cAAC,gBAAD,CAAenD,MAAOA,EAAtB,SACI,cAACH,EAAD,CAAcuD,IAAK1C,EAAO+B,KAAK,SAASY,QAzCxC,WAChBvC,GAAa,GACTc,EAAMI,QAAU,GAChBN,GAAiB,GACjBG,EAAQ,KACDD,EAAMI,OAAS,IACtBM,IACAL,GAAe,KAkC2DG,SAAQ,OAAE1B,QAAF,IAAEA,GAAF,UAAEA,EAAOyB,eAAT,aAAE,EAAgBC,SAAxF,SAAkG,cAAClC,EAAD,CAAeoD,KAAK1B,EAAMI,OAAS,IAAMJ,GAA0B,MAAfpB,EAAM+C,MAA+B,eAAf/C,EAAM+C,KAA+B,QAAN,IAAzG,8BAI9G,cAAClD,EAAD,CAAOQ,UAAWA","file":"static/js/0.2106bf23.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport {\r\n  NavLink\r\n} from \"react-router-dom\";\r\n\r\nexport const StyledForm = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n& > button {\r\n  background-color: rgba(255, 142, 83,0.5);\r\n& *{\r\n  color: #454441;\r\n  text-decoration: none;\r\n};\r\n};\r\n`;\r\n\r\nexport const StyledContainerInput = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 70px;\r\n  @media (min-width: 1279px), (min-height: 1000px)and (orientation: portrait) {\r\n    height: 120px;\r\n  };\r\n`;\r\n\r\nexport const StyledInput = styled.input`\r\n  position: absolute; \r\n  width: 98%; \r\n  height: 50%;\r\n  left: 50%; \r\n  transform: translateX(-50%);\r\n  top: 0;\r\n  text-indent: 7%;\r\n`;\r\n\r\nexport const StyledIcon = styled.i`\r\n  position: absolute;\r\n  top: 25%; \r\n  left: 3%;\r\n  transform: translateY(-25%);\r\n  color: black;\r\n  text-shadow: 0px 0px black;\r\n`;\r\n\r\nexport const StyledButton = styled.button`\r\n  position: absolute;\r\n  bottom: 0; \r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: ${props => props.theme.bg};\r\n`;\r\n\r\nexport const StyledNavLink = styled(NavLink)`\r\n  text-decoration: none;\r\n  color: ${props => props.theme.col};\r\n`;","import React, { useContext, useEffect, lazy, useRef, useState } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { StyledForm, StyledContainerInput, StyledInput, StyledIcon, StyledButton, StyledNavLink } from '../../styles/styleComponents/StyledFormPhoto';\r\nimport FetchContext from \"../../context/fetch/fetchContext\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport ValidationContext from \"../../context/validationForm/validationContext\";\r\nimport PaginateContext from \"../../context/paginate/paginateContext\";\r\nimport { ThemeProvider } from 'styled-components';\r\nconst Alert = lazy(() => import('../atoms/Alert'));\r\n\r\nconst Form = ({ theme }) => {\r\n    const match = useRouteMatch();\r\n    const myRef = useRef();\r\n    const [animation, setAnimation] = useState(false);\r\n    const alertContext = useContext(AlertContext);\r\n    const fetchContext = useContext(FetchContext);\r\n    const validationContext = useContext(ValidationContext);\r\n    const paginateContext = useContext(PaginateContext);\r\n\r\n    const { setAlert } = alertContext || {};\r\n    const { photosFilterDuplicate, setLoadingImages, searchPhotos } = fetchContext || {};\r\n    const { value, setText } = validationContext || {};\r\n    const { currentPage } = paginateContext || {};\r\n\r\n    useEffect(() => {\r\n        if (value?.length >= 3) {\r\n            searchPhotos(value, currentPage);\r\n        }\r\n        //eslint-disable-next-line\r\n    }, [value, currentPage]);\r\n\r\n    const handleClick = () => {\r\n        setAnimation(true);\r\n        if (value.length >= 3) {\r\n            setLoadingImages(true);\r\n            setText(\"\");\r\n        } else if (value.length < 3) {\r\n            showAlerts();\r\n            disabledButton(true);\r\n        }\r\n    };\r\n\r\n    const disabledButton = (bool) => {\r\n        myRef.current.disabled = bool;\r\n        setTimeout(() => {\r\n            myRef.current && (myRef.current.disabled = false);\r\n            setAnimation(false);\r\n        }, 5000);\r\n    };\r\n\r\n    const showAlerts = () => {\r\n        (value.length === 0) && setAlert('please enter something', 'light');\r\n        value && setAlert('minimum 3 characters', 'light')\r\n    };\r\n\r\n    const handleChange = e => {\r\n        const valueInput = e.target.value;\r\n        setLoadingImages(false);\r\n        setText(valueInput);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <StyledForm>\r\n                <StyledContainerInput >\r\n                    <StyledInput name=\"text\" list=\"photos\" type=\"text\"\r\n                        onChange={handleChange} value={value} />\r\n                    <datalist id=\"photos\">\r\n                        {photosFilterDuplicate.map((element, index) => <option key={element + index}>{element.title}</option>)}\r\n                    </datalist>\r\n                    <StyledIcon className=\"fas fa-search\" />\r\n                    <ThemeProvider theme={theme}>\r\n                        <StyledButton ref={myRef} type=\"submit\" onClick={handleClick} disabled={myRef?.current?.disabled}><StyledNavLink to={(value.length < 3 || !value) && (match.path === \"/\" || match.path === \"/apiImages\") ? \"/\" : \"/main\"} >Show me</StyledNavLink></StyledButton>\r\n                    </ThemeProvider>\r\n                </StyledContainerInput>\r\n            </StyledForm>\r\n            <Alert animation={animation} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Form;"],"sourceRoot":""}